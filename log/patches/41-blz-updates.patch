diff --git a/src/blz.properties b/src/blz.properties
index 947d69d..c97087d 100644
--- a/src/blz.properties
+++ b/src/blz.properties
@@ -13,7 +13,7 @@
 10022200=Landesbank Berlin - ehemals Bankgesellschaft Berlin|Berlin|BELADEBE222|69|||||
 10030200=Berlin-Hannoversche Hypothekenbank|Berlin|BHYPDEB1XXX|09|||||
 10030400=ABK-Kreditbank|Berlin|ABKBDEB1XXX|09|||||
-10030500=Bankhaus Löbbecke|Berlin|LOEBDEBBXXX|09|hbciserver.bankverlag.de||210||
+10030500=Bankhaus Löbbecke|Berlin|LOEBDEBBXXX|09|hbciserver.bankverlag.de|https://loebbecke-bank.de/fints/|210||
 10030600=North Channel Bank|Mainz a Rhein|GENODEF1OGK|88|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 10030700=Gries & Heissel - Bankiers|Wiesbaden|DLGHDEB1XXX|16|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 10040000=Commerzbank Berlin (West)|Berlin|COBADEBBXXX|13|hbci.commerzbank.de||300||
@@ -61,7 +61,7 @@
 10110300=Bankhaus Dr. Masel|Berlin|MACODEB1XXX|09|||||
 10110400=Investitionsbank Berlin|Berlin|IBBBDEBBXXX|09|||||
 10110600=quirin bank|Berlin|BEFFDEB1XXX|17|||||
-10120100=Weberbank|Berlin|WEBEDEBBXXX|94|||||
+10120100=Weberbank|Berlin|WEBEDEBBXXX|94||https://banking.s-fints-pt-bb.de/PinTanServlet|||
 10120199=Weberbank Gf n.B.|Berlin|WELADED1WBB|94|||||
 10120600=Santander Consumer Bank|Frankfurt am Main|GEMKDE21BER|41|||||
 10120760=UniCredit Bank - HypoVereinsbank Ndl 260 BIn|Aschheim|HYVEDEM1079|99|||||
@@ -74,7 +74,7 @@
 10320800=Emporiki Bank - Germany|Berlin|EMPODEF1BRL|56|||||
 12016836=KfW Kreditanstalt für Wiederaufbau|Berlin|KFWIDEFF100|09|||||
 12030000=Deutsche Kreditbank Berlin|Berlin|BYLADEM1001|00|i111.by.s-hbci.de|https://hbci-pintan-by.s-hbci.de/PinTanServlet|220|plus|
-12030900=Merck Finck & Co|Berlin|MEFIDEMM100|10|hbciserver.bankverlag.de||210||
+12030900=Merck Finck & Co|Berlin|MEFIDEMM100|10|hbciserver.bankverlag.de|https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|210||
 12040000=Commerzbank Berlin Ost|Berlin|COBADEBB120|13|hbci.commerzbank.de||300||
 12050555=NLB FinanzIT|Berlin|NOLADE21DVS|09|||||
 12060000=DZ BANK|Berlin|GENODEFF120|09|||||
@@ -180,7 +180,7 @@
 20030300=Donner & Reuschel|Hamburg|CHDBDEHHXXX|09|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 20030400=Marcard, Stein & Co Bankiers|Hamburg|MCRDDEHHXXX|00|marcard.hbciservice.de|https://online-banking.marcard.de/fints/|300|300|
 20030600=Sydbank Fil Hamburg|Hamburg|SYBKDE22HAM|19|sydbank.hbciservice.de|https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|300|300|
-20030700=Merck Finck & Co|Hamburg|MEFIDEMM200|10|||||
+20030700=Merck Finck & Co|Hamburg|MEFIDEMM200|10||https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|||
 20030900=Bankhaus Wölbern & Co|Hamburg|WOELDEHHXXX|06|||||
 20040000=Commerzbank|Hamburg|COBADEHHXXX|13|||||
 20040040=Commerzbank GF RME|Hamburg|COBADEFFRME|13|||||
@@ -233,7 +233,7 @@
 20080095=Commerzbank vormals Dresdner Bank, PCC DCC-ITGK 11|Hamburg|DRESDEFFJ37|09|||||
 20089200=Commerzbank vormals Dresdner Bank ITGK|Hamburg|DRESDEFFI06|09|||||
 20090400=Deutsche Genossenschafts-Hypothekenbank|Hamburg|DGHYDEH1XXX|09|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
-20090500=netbank|Hamburg|GENODEF1S15|81|||||
+20090500=netbank|Hamburg|GENODEF1S15|81||https://www.bankingonline.de/hbci/pintan/PinTanServlet|||
 20090602=apoBank|Hamburg|DAAEDED1002|14|||||
 20090700=Edekabank|Hamburg|EDEKDEHHXXX|50|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 20090745=EBANK Gf Cash|Hamburg|EDECDEH1XXX|50|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
@@ -447,7 +447,7 @@
 23040022=Commerzbank|Lübeck|COBADEFF230|13|||||
 23050000=HSH Nordbank Lübeck|Lübeck|HSHNDEHH230|C5|||||
 23050101=Sparkasse zu Lübeck|Lübeck|NOLADE21SPL|00|i026.s-fints-sh.de|https://banking.s-fints-pt-sh.de/PinTanServlet|220|plus|
-23051030=Sparkasse Südholstein|Neumünster, Holst|NOLADE21SHO|A2|||||
+23051030=Sparkasse Südholstein|Neumünster, Holst|NOLADE21SHO|A2||https://banking.s-fints-pt-sh.de/PinTanServlet|||
 23051610=Sparkasse Stormarn -alt-|Bad Oldesloe|NOLADE21STO|A7|||||
 23052750=Kreissparkasse Herzogtum Lauenburg|Ratzeburg|NOLADE21RZB|A2|i087.s-fints-sh.de|https://banking.s-fints-pt-sh.de/PinTanServlet|220|plus|
 23061220=Raiffeisenbank Leezen|Leezen, Holst|GENODEF1LZN|32|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
@@ -524,7 +524,7 @@
 25080085=Commerzbank vormals Dresdner Bank, PCC DCC-ITGK 2|Hamburg|DRESDEFFI65|09|||||
 25089220=Commerzbank vormals Dresdner Bank ITGK|Hannover|DRESDEFFI09|09|||||
 25090300=Bank für Schiffahrt (BFS) Fil d Ostfr VB Leer|Hannover|GENODEF1BFS|28|||||
-25090500=Sparda-Bank Hannover|Hannover|GENODEF1S09|81|||||
+25090500=Sparda-Bank Hannover|Hannover|GENODEF1S09|81||https://www.bankingonline.de/hbci/pintan/PinTanServlet|||
 25090608=apoBank|Hannover|DAAEDED1008|14|||||
 25090900=PSD Bank|Hannover|GENODEF1P09|91|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 25120510=Bank für Sozialwirtschaft|Hannover|BFSWDE33HAN|09|||||
@@ -607,7 +607,7 @@
 25940033=Commerzbank|Hildesheim|COBADEFF259|13|hbci.commerzbank.de||300||
 25950001=Stadtsparkasse Hildesheim -alt-|Hildesheim|NOLADE21HIS|B1|i057.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
 25950130=Sparkasse Hildesheim|Hildesheim|NOLADE21HIK|B1|i057.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
-25960192=Bankhaus Hallbaum|Hildesheim|HALLDE2HHIL|C3|||||
+25960192=Bankhaus Hallbaum|Hildesheim|HALLDE2HHIL|C3||https://ebanking.bankhaus-hallbaum.de/fints|||
 25970024=Deutsche Bank Privat und Geschäftskunden|Hildesheim|DEUTDEDB259|63|193.150.167.7|https://fints.deutsche-bank.de/|201|300|
 25970074=Deutsche Bank|Hildesheim|DEUTDE2H259|63|193.150.167.7|https://fints.deutsche-bank.de/|201|300|
 25971024=Deutsche Bank Privat und Geschäftskunden|Alfeld (Leine)|DEUTDEDB253|63|193.150.167.7|https://fints.deutsche-bank.de/|201|300|
@@ -623,7 +623,7 @@
 26050001=Sparkasse Göttingen|Göttingen, Niedersachs|NOLADE21GOE|00|i105.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
 26051260=Sparkasse Duderstadt|Duderstadt, Niedersachs|NOLADE21DUD|00|i109.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
 26051450=Kreis- und Stadtsparkasse Münden|Hann. Münden|NOLADE21HMU|00|i012.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
-26060184=Bankhaus Hallbaum|Göttingen, Niedersachs|HALLDE2HGOE|C3|||||
+26060184=Bankhaus Hallbaum|Göttingen, Niedersachs|HALLDE2HGOE|C3||https://ebanking.bankhaus-hallbaum.de/fints|||
 26061291=Volksbank Eichsfeld-Northeim|Duderstadt, Niedersachs|GENODEF1DUD|48|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 26061556=Volksbank|Adelebsen|GENODEF1ADE|28|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 26062433=Volksbank Dransfeld|Dransfeld|GENODEF1DRA|32|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
@@ -657,7 +657,7 @@
 26550105=Sparkasse Osnabrück|Osnabrück|NOLADE22XXX|00|i039.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
 26551540=Kreissparkasse Bersenbrück|Bersenbrück|NOLADE21BEB|00|i004.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
 26552286=Kreissparkasse Melle|Melle, Wiehengeb|NOLADE21MEL|00|i107.s-fints-ni.de|https://banking.s-fints-pt-ni.de/PinTanServlet|220|plus|
-26560189=Bankhaus Hallbaum|Osnabrück|HALLDE2HOSN|C3|||||
+26560189=Bankhaus Hallbaum|Osnabrück|HALLDE2HOSN|C3||https://ebanking.bankhaus-hallbaum.de/fints|||
 26560625=apoBank|Osnabrück|DAAEDED1025|14|||||
 26562490=Volksbank Bad Laer-Borgloh-Hilter-Melle|Hilter am Teutoburger Wald|GENODEF1HTR|28|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 26562694=Volksbank Wittlage -alt-|Bohmte|GENODEF1WTB|28|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
@@ -861,7 +861,7 @@
 29020100=KBC Bank Deutschland|Bremen|BANVDEHBXXX|18||https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp||300|
 29020200=NordFinanz Bank|Bremen|NFHBDE21XXX|09|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 29020400=Deutsche Factoring Bank|Bremen|DFABDE21XXX|09|||||
-29030400=Plump, Carl F. - & Co|Bremen|PLUMDE29XXX|C4|||||
+29030400=Plump, Carl F. - & Co|Bremen|PLUMDE29XXX|C4||https://banking.bankhaus-plump.de/fints/|||
 29040060=Commerzbank CC|Bremen|COBADEFF072|09|||||
 29040061=Commerzbank CC|Bremen|COBADEFF073|09|||||
 29040090=Commerzbank|Bremen|COBADEFF290|13|hbci.commerzbank.de||300||
@@ -925,7 +925,7 @@
 30030400=FXdirekt Bank|Oberhausen, Rheinl|FXDBDE31XXX|00|||||
 30030500=C&A Bank|Düsseldorf|CUABDED1XXX|05|||||
 30030880=HSBC Trinkaus & Burkhardt|Düsseldorf|TUBDDEDDXXX|56|hbciserver.bankverlag.de|https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|210|300|
-30030900=Merck Finck & Co|Düsseldorf|MEFIDEMM300|00|hbciserver.bankverlag.de||210||
+30030900=Merck Finck & Co|Düsseldorf|MEFIDEMM300|00|hbciserver.bankverlag.de|https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|210||
 30040000=Commerzbank|Düsseldorf|COBADEDDXXX|13|hbci.commerzbank.de||300||
 30040048=Commerzbank GF-D48|Düsseldorf|COBADEFF930|13|||||
 30040060=Commerzbank Gf 660|Düsseldorf|COBADEFF064|09|||||
@@ -1023,7 +1023,7 @@
 32470077=Deutsche Bank|Kleve, Niederrhein|DEUTDEDD324|63|193.150.167.7|https://fints.deutsche-bank.de/|201|300|
 33000000=Bundesbank eh Wuppertal|Düsseldorf|MARKDEF1330|09|||||
 33010111=SEB|Wuppertal|ESSEDE5F330|13|193.243.184.115||201||
-33020000=akf bank|Wuppertal|AKFBDE31XXX|09|||||
+33020000=akf bank|Wuppertal|AKFBDE31XXX|09||https://hbci.akf24.de|||
 33020190=UniCredit Bank - HypoVereinsbank|Wuppertal|HYVEDEMM809|99|hbci.hypovereinsbank.de|https://hbci-01.hypovereinsbank.de/bank/hbci|300|300|
 33040001=Commerzbank|Wuppertal|COBADEFF330|13|hbci.commerzbank.de||300||
 33040310=Commerzbank Zw 117|Wuppertal|COBADEDHXXX|13|||||
@@ -1308,7 +1308,7 @@
 40060000=WGZ Bank|Münster, Westf|GENODEMSXXX|44|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|220|plus|
 40060265=DKM Darlehnskasse Münster|Münster, Westf|GENODEM1DKM|34|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 40060300=WL BANK Westfälische Landschaft Bodenkreditbank|Münster, Westf|GENODEM1WLM|09|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
-40060560=Sparda-Bank Münster|Münster, Westf|GENODEF1S08|85|||||
+40060560=Sparda-Bank Münster|Münster, Westf|GENODEF1S08|85||https://www.bankingonline.de/hbci/pintan/PinTanServlet|||
 40060614=apoBank|Münster, Westf|DAAEDED1014|14|||||
 40061238=Volksbank Greven|Greven, Westf|GENODEM1GRV|34|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 40062624=Volksbank Telgte-Westbevern -alt-|Telgte|GENODEM1TWB|34|||||
@@ -1789,7 +1789,7 @@
 50130200=Oppenheim, Sal - jr & Cie|Frankfurt am Main|SOPPDEFFXXX|09|||||
 50130300=FIRST INTERNATIONAL BANK|Frankfurt am Main|MASFDEF1XXX|50|||||
 50130327=FIRST INTERNATIONAL BANK|Frankfurt am Main|MASFDEF1027|50|||||
-50130400=Merck Finck & Co|Frankfurt am Main|MEFIDEMM501|10|||||
+50130400=Merck Finck & Co|Frankfurt am Main|MEFIDEMM501|10||https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|||
 50130600=UBS Deutschland|Frankfurt am Main|UBSWDEFFXXX|09|||||
 50150000=Westdeutsche Landesbank Ndl Frankfurt|Frankfurt am Main|WELADEFFXXX|09|||||
 50190000=Frankfurter Volksbank|Frankfurt am Main|FFVBDEFFXXX|06|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
@@ -2656,7 +2656,7 @@
 60090300=Volksbank Zuffenhausen m Zndl Stammheimer VB|Stuttgart|GENODES1ZUF|10|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 60090609=apoBank|Stuttgart|DAAEDED1009|14|||||
 60090700=Südwestbank|Stuttgart|SWBSDESSXXX|10|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
-60090800=Sparda-Bank Baden-Württemberg|Stuttgart|GENODEF1S02|87|||||
+60090800=Sparda-Bank Baden-Württemberg|Stuttgart|GENODEF1S02|87||https://www.bankingonline.de/hbci/pintan/PinTanServlet|||
 60090900=PSD Bank RheinNeckarSaar|Stuttgart|GENODEF1P20|91|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 60120050=UniCredit Bank - HypoVereinsbank Ndl 434 Stgt|Aschheim|HYVEDEM1085|99|||||
 60120200=BHF-BANK|Stuttgart|BHFBDEFF600|60|hbciserver.bankverlag.de|https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|400|400|
@@ -3207,12 +3207,12 @@
 70030014=Fürst Fugger Privatbank|München|FUBKDE71MUC|00|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 70030111=Bankhaus Max Flessa|München|FLESDEMM700|09|||||
 70030300=Bankhaus Reuschel & Co|München|REUCDEMMXXX|09|hbci.reuschel.com|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|220|plus|
-70030400=Merck Finck & Co|München|MEFIDEMMXXX|10|hbciserver.bankverlag.de||210||
+70030400=Merck Finck & Co|München|MEFIDEMMXXX|10|hbciserver.bankverlag.de|https://www.bv-activebanking.de/hbciTunnel/hbciTransfer.jsp|210||
 70030800=Delbrück Bethmann Maffei|München|MAFBDEM1XXX|00|||||
 70031000=Bankhaus Ludwig Sperrer|Freising, Oberbay|BHLSDEM1XXX|00|||||
 70032500=St. Galler Kantonalbank Deutschland|München|GAKDDEM1XXX|09|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 70033100=Baader Bank|Unterschleißheim|BDWBDEMMXXX|09|||||
-70035000=Allianz Bank (Zndl der Oldenburgische Landesbank)|München|OLBODEH2700|61|hbci.allianz.de||210||
+70035000=Allianz Bank (Zndl der Oldenburgische Landesbank)|München|OLBODEH2700|61|hbci.allianz.de|https://hbci.allianz.de|210||
 70040041=Commerzbank|München|COBADEFF700|13|hbci.commerzbank.de||300||
 70040048=Commerzbank GF-M48|München|COBADEFF970|13|||||
 70040060=Commerzbank Gf 860|München|COBADEFF068|09|||||
@@ -3397,7 +3397,7 @@
 72020700=Augsburger Aktienbank|Augsburg, Bay|AUGBDE77XXX|23|||||
 72021271=UniCredit Bank - HypoVereinsbank|Aichach a d Paar|HYVEDEMM236|99|hbci.hypovereinsbank.de|https://hbci-01.hypovereinsbank.de/bank/hbci|300|300|
 72021876=UniCredit Bank - HypoVereinsbank|Günzburg|HYVEDEMM259|99|hbci.hypovereinsbank.de|https://hbci-01.hypovereinsbank.de/bank/hbci|300|300|
-72030014=Fürst Fugger Privatbank|Augsburg, Bay|FUBKDE71XXX|00|hbciserver.bankverlag.de||210||
+72030014=Fürst Fugger Privatbank|Augsburg, Bay|FUBKDE71XXX|00|hbciserver.bankverlag.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|210||
 72030227=Hafner, Anton - Bankgeschäft|Augsburg, Bay|ANHODE77XXX|00|||||
 72040046=Commerzbank|Augsburg, Bay|COBADEFF720|13|hbci.commerzbank.de||300||
 72050000=Stadtsparkasse Augsburg|Augsburg, Bay|AUGSDE77XXX|00|i003.by.s-hbci.de|https://hbci-pintan-by.s-hbci.de/PinTanServlet|220|plus|
@@ -3446,7 +3446,7 @@
 72070024=Deutsche Bank Privat und Geschäftskunden|Augsburg, Bay|DEUTDEDB720|63|193.150.167.7|https://fints.deutsche-bank.de/|201|300|
 72080001=Commerzbank vormals Dresdner Bank|Augsburg, Bay|DRESDEFF720|76|hbci.dresdner-bank.de|https://hbci.dresdner-bank.de|300|300|
 72090000=Augusta-Bank Raiffeisen-Volksbank|Augsburg, Bay|GENODEF1AUB|88|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
-72090500=Sparda-Bank Augsburg|Augsburg, Bay|GENODEF1S03|84|||||
+72090500=Sparda-Bank Augsburg|Augsburg, Bay|GENODEF1S03|84||https://www.bankingonline.de/hbci/pintan/PinTanServlet|||
 72090900=PSD Bank München|Augsburg, Bay|GENODEF1P14|91|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 72091800=Volksbank Günzburg|Günzburg|GENODEF1GZ1|10|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 72100000=Bundesbank eh Ingolstadt|München|MARKDEF1721|09|||||
@@ -3910,7 +3910,7 @@
 79363016=VR-Bank Rhön-Grabfeld|Bad Neustadt a.d.Saale|GENODEF1NDT|88|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 79363151=Raiffeisen-Volksbank Haßberge|Haßfurt|GENODEF1HAS|88|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
 79364069=Raiffeisenbank Frankenwinheim und Umgebung|Frankenwinheim|GENODEF1FWH|88|hbci01.fiducia.de|https://hbci11.fiducia.de/cgi-bin/hbciservlet|300|300|
-79364406=VR-Bank Schweinfurt Land -alt-|Sennfeld, Unterfr|GENODEF1BGF|88|||||
+79364406=VR-Bank Schweinfurt Land -alt-|Sennfeld, Unterfr|GENODEF1BGF|88||https://hbci11.fiducia.de/cgi-bin/hbciservlet|||
 79380051=Commerzbank vormals Dresdner Bank|Schweinfurt|DRESDEFF793|76|hbci.dresdner-bank.de|https://hbci.dresdner-bank.de|300|300|
 79500000=Bundesbank eh Aschaffenburg|Würzburg|MARKDEF1795|09|||||
 79510111=SEB|Aschaffenburg|ESSEDE5F795|13|193.243.184.115||201||
@@ -3952,7 +3952,7 @@
 80053762=Saalesparkasse|Halle (Saale)|NOLADE21HAL|B6|hbci.finanzit.com|https://banking.s-fints-pt-st.de/PinTanServlet|220|plus|
 80054000=Kreissparkasse Weißenfels -alt-|Weißenfels, Saale|NOLADE21WSF|20|hbci.finanzit.com|https://hbci.finanzit.com/cgi/hbcipt.cgi|220|plus|
 80055008=Sparkasse Mansfeld-Südharz|Lutherstadt Eisleben|NOLADE21EIL|20|hbci.finanzit.com|https://banking.s-fints-pt-st.de/PinTanServlet|220|plus|
-80055500=Salzlandsparkasse|Staßfurt|NOLADE21SES|20|||||
+80055500=Salzlandsparkasse|Staßfurt|NOLADE21SES|20||https://banking.s-fints-pt-st.de/PinTanServlet|||
 80062608=Volksbank Elsterland|Jessen (Elster)|GENODEF1JE1|32|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 80063508=Ostharzer Volksbank|Quedlinburg|GENODEF1QLB|32|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
 80063558=Volksbank|Sangerhausen|GENODEF1SGH|32|hbci.gad.de|https://hbci-pintan.gad.de/cgi-bin/hbciservlet|300|300|
@@ -3975,7 +3975,7 @@
 81050000=Kreissparkasse Aschersleben-Staßfurt -alt-|Staßfurt|NOLADE21ASL|20|hbci.finanzit.com|https://hbci.finanzit.com/cgi/hbcipt.cgi|220|plus|
 81050555=Kreissparkasse Stendal|Stendal|NOLADE21SDL|20|hbci.finanzit.com|https://banking.s-fints-pt-st.de/PinTanServlet|220|plus|
 81051000=Bördesparkasse Oschersleben -alt-|Oschersleben (Bode)|NOLADE21OCL|20|hbci.finanzit.com|https://hbci.finanzit.com/cgi/hbcipt.cgi|220|plus|
-81052000=Harzsparkasse|Wernigerode|NOLADE21HRZ|20|||||
+81052000=Harzsparkasse|Wernigerode|NOLADE21HRZ|20||https://banking.s-fints-pt-st.de/PinTanServlet|||
 81053112=Kreissparkasse Wernigerode -alt-|Wernigerode|NOLADE21WRK|C0|hbci.finanzit.com|https://hbci.finanzit.com/cgi/hbcipt.cgi|220|plus|
 81053132=Kreissparkasse Halberstadt -alt-|Halberstadt|NOLADE21HBS|C0|hbci.finanzit.com|https://hbci.finanzit.com/cgi/hbcipt.cgi|220|plus|
 81053242=Kreissparkasse Schönebeck -alt-|Schönebeck (Elbe)|NOLADE21SBK|52|hbci.finanzit.com|https://hbci.finanzit.com/cgi/hbcipt.cgi|220|plus|
diff --git a/src/org/kapott/hbci/tools/UpdateBLZProperties.java b/src/org/kapott/hbci/tools/UpdateBLZProperties.java
index 30b2e3e..b5b5894 100644
--- a/src/org/kapott/hbci/tools/UpdateBLZProperties.java
+++ b/src/org/kapott/hbci/tools/UpdateBLZProperties.java
@@ -30,7 +30,6 @@ import java.util.Map;
  */
 public class UpdateBLZProperties
 {
-  private final static boolean DEBUG = false;
   private final static String ENCODING = "iso-8859-1";
   
   /**
@@ -88,40 +87,16 @@ public class UpdateBLZProperties
       while ((line = f2.readLine()) != null)
       {
         String[] values = line.split("=");
-        String blz      = values[0];
-        String current  = values[1];
+        Line current    = new Line(values[0],values[1]);
 
-        try
-        {
-          String url = lookup.get(blz);
-          if (url == null) continue; // wir haben keine URL fuer die BLZ
-          
-          List<String> oldValues = Arrays.asList(current.split("\\|"));
-          if (oldValues.size() <= 5)
-          {
-            if (DEBUG) System.err.println(blz + ": " + url + " URL fehlt in HBCI4Java");
-            continue; // wir haben in HBCI4Java keine URL - TODO: Die neue URL sollte dann in HBCI4Java uebernommen werden
-          }
-            
-          String oldUrl = oldValues.get(5).trim();
-          if (oldUrl.length() == 0)
-          {
-            if (DEBUG) System.err.println(blz + ": " + url + " URL leer in HBCI4Java");
-            continue; // wir haben in HBCI4Java keine URL - TODO: Die sollte dann in HBCI4Java uebernommen werden  
-          }
-          
-          // checken, ob wir in der CSV-Datei eine andere URL haben. Falls ja -> aktualisieren
-          if (url.equals(oldUrl))
-            continue; // unveraendert
-          
-          System.out.println(blz + ": Update " + oldUrl + "-> " + url);
-          current = current.replace(oldUrl,url);
-        }
-        finally
-        {
-          f3.write(blz + "=" + current);
-          f3.newLine();
-        }
+        String url = lookup.get(current.blz);
+        
+        // URL uebernehmen
+        current.updateUrl(url);
+        
+        // Neue Zeile schreiben
+        f3.write(current.toString());
+        f3.newLine();
       }
       //
       //////////////////////////////////////////////////////////////////////////
@@ -132,16 +107,67 @@ public class UpdateBLZProperties
       if (f2 != null) f2.close();
       if (f3 != null) f3.close();
     }
+  }
+  
+  /**
+   * Implementiert eine einzelne Zeile der blz.properties
+   */
+  private static class Line
+  {
+    private String blz = null;
+    private String[] values = new String[9];
+    
+    /**
+     * ct.
+     * @param blz die BLZ.
+     * @param line die Zeile aus der blz.properties
+     */
+    private Line(String blz,String line)
+    {
+      this.blz = blz;
+      String[] s = line.split("\\|");
+      System.arraycopy(s,0,this.values,0,s.length);
+    }
+    
+    /**
+     * Speichert die neue URL, wenn vorher keine da war oder eine andere.
+     * @param url die neue URL.
+     */
+    private void updateUrl(String url)
+    {
+      // Keine neue URL
+      if (url == null || url.length() == 0)
+        return;
+      
+      String current = this.values[5];
+      current = current != null ? current.trim() : "";
+      if (!current.equals(url))
+      {
+        System.out.println(blz + ": URL \"" + current + "\" -> \"" + url + "\"");
+        this.values[5] = url;
+      }
+    }
     
+    /**
+     * Wandelt die Zeile wieder zurueck in einen String.
+     * @see java.lang.Object#toString()
+     */
+    public String toString()
+    {
+      StringBuffer sb = new StringBuffer();
+      sb.append(this.blz);
+      sb.append("=");
+      for (int i=0;i<this.values.length;++i)
+      {
+        if (i > 0)
+          sb.append("|");
+        
+        String s = this.values[i];
+        if (s != null)
+          sb.append(s);
+      }
+      
+      return sb.toString();
+    }
   }
 }
-
-
-
-/**********************************************************************
- * $Log: UpdateBLZProperties.java,v $
- * Revision 1.1  2012/04/16 22:24:40  willuhn
- * @N BLZ-Updater Tool
- * @N Aktualisierte BLZ-Liste (Stand 16.10.2011)
- *
- **********************************************************************/
\ No newline at end of file
